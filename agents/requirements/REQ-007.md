# AGENT: REQ-007 - Acceptance Criteria Writer

## Identity
- **Agent ID**: REQ-007
- **Name**: Acceptance Criteria Writer
- **Category**: Requirements Analysis

## Role
Write detailed acceptance criteria for each user story using Given-When-Then format.

## Responsibilities
1. Expand acceptance criteria from user stories
2. Cover happy path and edge cases
3. Include validation rules
4. Include error scenarios

## Input
- /var/ganaportal/artifacts/requirements/user_stories.json

## Output
- /var/ganaportal/artifacts/requirements/acceptance_criteria.json

## Output Format
```json
{
  "story_id": "US-PAY-001",
  "acceptance_criteria": [
    {
      "ac_id": "AC-PAY-001-01",
      "scenario": "Process payroll for active employees",
      "given": "I am logged in as admin and there are 5 active employees",
      "when": "I navigate to Payroll > Run Payroll and select January 2026",
      "then": [
        "Payroll calculates for all 5 employees",
        "Gross salary is sum of all earnings",
        "Deductions include PF, ESI (if applicable), TDS, PT",
        "Net pay = Gross - Total Deductions",
        "Status shows as 'Processed'"
      ]
    },
    {
      "ac_id": "AC-PAY-001-02",
      "scenario": "PF calculation for employee with Basic 25000",
      "given": "Employee has Basic = 25000, DA = 0",
      "when": "Payroll is processed",
      "then": [
        "Employee PF = 25000 * 12% = 3000",
        "Employer EPS = 1250 (capped, since 25000 > 15000)",
        "Employer EPF = 3000 - 1250 = 1750",
        "Total employer PF contribution = 3000"
      ]
    }
  ]
}
```

## Handoff
Pass to: TEST-002 (Unit Test Agent), TEST-008 (Compliance Test Agent)

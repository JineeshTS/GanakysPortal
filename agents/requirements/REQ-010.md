# AGENT: REQ-010 - Data Entity Analyst

## Identity
- **Agent ID**: REQ-010
- **Name**: Data Entity Analyst
- **Category**: Requirements Analysis

## Role
Identify all data entities, their attributes, and relationships for the ~120 database tables.

## Responsibilities
1. List all entities (tables)
2. Identify key attributes
3. Map relationships (1:1, 1:N, M:N)
4. Create conceptual ERD specification

## Input
- /var/ganaportal/artifacts/requirements/parsed_requirements.json
- /var/ganaportal/artifacts/requirements/functional_requirements.json

## Output
- /var/ganaportal/artifacts/requirements/data_entities.json

## Output Format
```json
{
  "entities": [
    {
      "name": "users",
      "description": "System users for authentication",
      "key_attributes": ["id", "email", "password_hash", "role", "is_active"],
      "relationships": [
        {"to": "employees", "type": "1:1", "description": "User may be linked to employee"}
      ]
    },
    {
      "name": "employees",
      "description": "Employee master data",
      "key_attributes": ["id", "employee_code", "user_id", "first_name", "last_name", "department_id", "designation_id", "date_of_joining", "status"],
      "relationships": [
        {"to": "users", "type": "1:1"},
        {"to": "departments", "type": "N:1"},
        {"to": "designations", "type": "N:1"},
        {"to": "employee_salaries", "type": "1:N"},
        {"to": "leave_requests", "type": "1:N"},
        {"to": "payslips", "type": "1:N"}
      ]
    },
    {
      "name": "pf_monthly_data",
      "description": "Monthly PF calculation records",
      "key_attributes": ["id", "employee_id", "month", "year", "pf_wage", "employee_pf", "employer_eps", "employer_epf"],
      "relationships": [
        {"to": "employees", "type": "N:1"},
        {"to": "payslips", "type": "N:1"}
      ]
    }
  ],
  "total_entities": 120,
  "by_module": {
    "auth": 3,
    "employees": 8,
    "documents": 3,
    "leave": 4,
    "timesheet": 2,
    "payroll": 12,
    "accounting": 8,
    "ar": 5,
    "ap": 5,
    "banking": 4,
    "gst": 4,
    "crm": 3,
    "projects": 5
  }
}
```

## Handoff
Pass to: ARCH-002 (Database Architect)

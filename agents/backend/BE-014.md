# AGENT: BE-014 - ESI Calculator Agent

## Identity
- **Agent ID**: BE-014
- **Name**: ESI Calculator Agent
- **Category**: Backend Development
- **CRITICAL**: India compliance agent

## Role
Implement ESI (Employee State Insurance) calculations.

## EXACT FORMULAS
```python
class ESICalculator:
    THRESHOLD = Decimal("21000")
    EMPLOYEE_RATE = Decimal("0.0075")
    EMPLOYER_RATE = Decimal("0.0325")
    
    def is_applicable(self, gross_salary: Decimal) -> bool:
        """ESI applicable if gross <= 21000"""
        return gross_salary <= self.THRESHOLD
    
    def calculate_employee_esi(self, gross_salary: Decimal) -> Decimal:
        """Employee ESI = 0.75% of gross"""
        if not self.is_applicable(gross_salary):
            return Decimal("0")
        return (gross_salary * self.EMPLOYEE_RATE).quantize(Decimal("1"), ROUND_HALF_UP)
    
    def calculate_employer_esi(self, gross_salary: Decimal) -> Decimal:
        """Employer ESI = 3.25% of gross"""
        if not self.is_applicable(gross_salary):
            return Decimal("0")
        return (gross_salary * self.EMPLOYER_RATE).quantize(Decimal("1"), ROUND_HALF_UP)
```

## Test Cases
| Gross | Applicable | Employee ESI | Employer ESI |
|-------|------------|--------------|--------------|
| 15,000 | Yes | 113 | 488 |
| 21,000 | Yes | 158 | 683 |
| 25,000 | No | 0 | 0 |

## Handoff
Pass to: TEST-008

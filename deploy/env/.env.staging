# DEP-003: GanaPortal Production Environment
# WARNING: Do not commit real secrets - use secrets manager in production

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=GanaPortal
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO
ALLOWED_HOSTS=portal.ganakys.com,api.portal.ganakys.com

# =============================================================================
# Database Configuration
# =============================================================================
DB_HOST=db
DB_PORT=5432
DB_NAME=ganaportal_db
DB_USER=ganaportal
# DB_PASSWORD should be set via secrets manager
DATABASE_URL=postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD should be set via secrets manager
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# Cache TTL (seconds)
CACHE_DEFAULT_TTL=3600
SESSION_TTL=86400

# =============================================================================
# Security Configuration
# =============================================================================
# JWT_SECRET_KEY should be set via secrets manager (min 64 chars)
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ENCRYPTION_KEY should be set via secrets manager (32 bytes hex)
PBKDF2_ITERATIONS=100000

# CORS
CORS_ORIGINS=https://portal.ganakys.com
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# API Configuration
# =============================================================================
API_V1_PREFIX=/api/v1
DOCS_URL=/docs
OPENAPI_URL=/openapi.json
REDOC_URL=/redoc

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# AI Services Configuration (Fallback Chain)
# =============================================================================
# Primary: Claude
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
CLAUDE_MODEL=claude-3-5-sonnet-20241022

# Fallback 1: Gemini
GOOGLE_AI_API_KEY=${GOOGLE_AI_API_KEY}
GEMINI_MODEL=gemini-1.5-pro

# Fallback 2: OpenAI
OPENAI_API_KEY=${OPENAI_API_KEY}
GPT_MODEL=gpt-4-turbo

# Fallback 3: Together AI
TOGETHER_API_KEY=${TOGETHER_API_KEY}
TOGETHER_MODEL=meta-llama/Meta-Llama-3.1-70B-Instruct-Turbo

AI_REQUEST_TIMEOUT=60
AI_MAX_RETRIES=3

# =============================================================================
# File Storage Configuration
# =============================================================================
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=pdf,png,jpg,jpeg,xlsx,xls,csv,doc,docx

# S3-compatible storage (optional)
# S3_ENDPOINT=
# S3_BUCKET=
# S3_ACCESS_KEY=
# S3_SECRET_KEY=

# =============================================================================
# Email Configuration (SMTP)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM=noreply@ganakys.com
SMTP_FROM_NAME=GanaPortal

# =============================================================================
# Indian Compliance Settings
# =============================================================================
# PF Settings
PF_ESTABLISHMENT_CODE=${PF_ESTABLISHMENT_CODE}
PF_EXTENSION=${PF_EXTENSION}

# ESI Settings
ESI_CODE=${ESI_CODE}
ESI_BRANCH=${ESI_BRANCH}

# GST Settings
GST_IN=${GST_IN}
GST_STATE_CODE=29

# TAN for TDS
TAN_NUMBER=${TAN_NUMBER}

# =============================================================================
# Monitoring & Logging
# =============================================================================
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_AI_CHAT=true
FEATURE_OCR=true
FEATURE_ANOMALY_DETECTION=true
FEATURE_AUTO_ACTIONS=false
FEATURE_BULK_OPERATIONS=true

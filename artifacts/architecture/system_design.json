{
  "metadata": {
    "agent_id": "ARCH-001",
    "agent_name": "System Architect",
    "created_at": "2026-01-08T10:45:00Z",
    "version": "1.0"
  },
  "system_overview": {
    "name": "GanaPortal",
    "type": "AI-First ERP System",
    "architecture_style": "Microservices-ready Modular Monolith",
    "deployment": "Docker Containerized on Hostinger VPS"
  },
  "technology_stack": {
    "frontend": {
      "framework": "Next.js 14.1.x",
      "language": "TypeScript 5.3.x",
      "ui_library": "Radix UI + Tailwind CSS",
      "state_management": "Zustand + React Query",
      "forms": "React Hook Form + Zod validation"
    },
    "backend": {
      "framework": "FastAPI 0.109.x",
      "language": "Python 3.11+",
      "orm": "SQLAlchemy 2.0 (async)",
      "validation": "Pydantic v2",
      "task_queue": "Celery + Redis"
    },
    "database": {
      "primary": "PostgreSQL 16",
      "cache": "Redis 7",
      "file_storage": "MinIO (S3-compatible)"
    },
    "ai_services": {
      "primary": "Claude API (claude-3-5-sonnet)",
      "fallback_chain": ["Gemini Pro", "GPT-4", "Together AI"],
      "confidence_thresholds": {
        "auto_execute": 95,
        "review_required": 70,
        "manual_required": 0
      }
    }
  },
  "architectural_layers": {
    "presentation": {
      "description": "Next.js SSR/CSR frontend",
      "components": ["Pages", "Components", "Hooks", "Stores"]
    },
    "api_gateway": {
      "description": "FastAPI REST API",
      "components": ["Routes", "Controllers", "Middleware"]
    },
    "business_logic": {
      "description": "Service layer with domain logic",
      "components": ["Services", "Validators", "Processors"]
    },
    "data_access": {
      "description": "Repository pattern with SQLAlchemy",
      "components": ["Repositories", "Models", "Schemas"]
    },
    "infrastructure": {
      "description": "Cross-cutting concerns",
      "components": ["Auth", "Cache", "Queue", "Storage", "AI"]
    }
  },
  "deployment_architecture": {
    "environment": "Hostinger VPS KVM2",
    "resources": {
      "cpu": "4 vCPU",
      "ram": "4GB",
      "storage": "200GB NVMe SSD"
    },
    "containers": {
      "nginx": {"port": 80, "description": "Reverse proxy + SSL termination"},
      "frontend": {"port": 3000, "description": "Next.js application"},
      "backend": {"port": 8000, "description": "FastAPI application"},
      "celery_worker": {"description": "Background task processing"},
      "celery_beat": {"description": "Scheduled task scheduler"},
      "postgres": {"port": 5432, "description": "Primary database"},
      "redis": {"port": 6379, "description": "Cache + message broker"},
      "minio": {"port": 9000, "description": "Object storage"}
    }
  },
  "security_architecture": {
    "authentication": {
      "method": "JWT Bearer Tokens",
      "access_token_expiry": "24 hours",
      "refresh_token_expiry": "7 days",
      "password_hashing": "bcrypt"
    },
    "authorization": {
      "method": "RBAC (Role-Based Access Control)",
      "roles": ["ADMIN", "HR_MANAGER", "ACCOUNTANT", "EMPLOYEE", "EXTERNAL_CA"]
    },
    "data_protection": {
      "encryption_at_rest": "AES-256",
      "encryption_in_transit": "TLS 1.3",
      "pii_handling": "Field-level encryption for sensitive data"
    }
  },
  "scalability_considerations": {
    "current_phase": "Single VPS deployment",
    "future_ready": {
      "horizontal_scaling": "Container orchestration ready",
      "database_scaling": "Read replicas supported",
      "cache_scaling": "Redis cluster compatible"
    }
  },
  "module_boundaries": [
    {"module": "auth", "responsibility": "Authentication, Authorization, Sessions"},
    {"module": "employees", "responsibility": "Employee master data, statutory info"},
    {"module": "onboarding", "responsibility": "Onboarding workflows, task management"},
    {"module": "leave", "responsibility": "Leave policies, applications, balances"},
    {"module": "timesheet", "responsibility": "Time tracking, approvals"},
    {"module": "payroll", "responsibility": "Salary processing, payslips"},
    {"module": "statutory", "responsibility": "PF, ESI, PT, TDS compliance"},
    {"module": "accounting", "responsibility": "COA, Journal entries, Ledgers"},
    {"module": "customers", "responsibility": "Customer management, AR"},
    {"module": "invoices", "responsibility": "Invoice generation, tracking"},
    {"module": "vendors", "responsibility": "Vendor management, AP"},
    {"module": "bills", "responsibility": "Bill processing, approvals"},
    {"module": "banking", "responsibility": "Bank accounts, reconciliation"},
    {"module": "gst", "responsibility": "GST returns, compliance"},
    {"module": "tds", "responsibility": "Vendor TDS, challans, certificates"},
    {"module": "crm", "responsibility": "Leads, pipeline, activities"},
    {"module": "projects", "responsibility": "Project management, tasks"},
    {"module": "documents", "responsibility": "EDMS, versioning, access control"},
    {"module": "reports", "responsibility": "Financial, HR, operational reports"},
    {"module": "ai", "responsibility": "AI services, document analysis"},
    {"module": "notifications", "responsibility": "Email, SMS, in-app notifications"},
    {"module": "audit", "responsibility": "Audit logging, history tracking"},
    {"module": "settings", "responsibility": "System configuration"}
  ]
}
